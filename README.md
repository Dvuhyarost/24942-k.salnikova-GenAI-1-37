Генератор весенних стихотворений
Программа для автоматической генерации четырехстрочных стихотворений на весеннюю тематику с использованием локальной языковой модели и интеллектуальной системой рифмовки.

Описание
Этот скрипт генерирует четырехстрочные стихотворения на весеннюю тему, используя предварительно обученную модель машинного обучения. Особенности включают автоматический подбор рифм, строгую очистку текста и адаптивные параметры генерации для каждой строки.

Особенности
Тематическая генерация: Фокус на весеннюю тематику

Интеллектуальная рифмовка: Автоматический подбор рифм с учетом фонетических соответствий

Анализ ударения: Определение типа рифмы (мужская, женская, дактилическая)

Подсчет слогов: Контроль количества слогов в рифмующихся словах

Адаптивная генерация: Динамическое изменение параметров для каждой строки

Очистка текста: Строгая фильтрация сгенерированного текста

Требования
Python 3.7+

transformers

torch

Локальная версия модели должна находиться в той же папке, что и исполняемый код. 
Тестировалось на модели: rugpt3small_based_on_gpt2
https://huggingface.co/ai-forever/rugpt3small_based_on_gpt2/

Установите зависимости:

pip install transformers torch
Структура файлов

├── config.json              # Конфигурация модели

├── pytorch_model.bin        # Веса модели

├── tokenizer_config.json    # Конфигурация токенизатора

├── vocab.json               # Словарь токенизатора

├── merges.txt               # Правила слияния токенов

├── special_tokens_map.json  # Специальные токены

└── generate_poem.py         # Исполняемый скрипт

Использование
Убедитесь, что все файлы модели находятся в одной директории со скриптом

Запустите программу:

python generate_poem.py

Параметры генерации
Адаптивные профили генерации:

Первая строка: temperature=0.8, top_p=0.9 - креативное начало

Средние строки: temperature=0.85, top_p=0.92 - баланс креативности

Финальная строка: temperature=0.75, top_p=0.88 - строгое завершение

Динамические параметры:
max_new_tokens=14-18 - адаптивная длина строк

repetition_penalty=1.2-1.4 - предотвращение повторов

no_repeat_ngram_size=2 - запрет повторяющихся сочетаний

typical_p=0.9 - естественность генерации

Примеры вывода

Генерируем стих построчно...

✓ Строка 1: Пролетели годы в снежной вьюге Отражая осенний день

✓ Строка 2: По льду по снегу с АМихалков

✓ Строка 3: Как я тебя люблю как ты меня любишь

✓ Строка 4: Льдина-вода ледяная вода Тепленькая


✓ Строка 1: Весна на лугу Смотри как красиво цвет

✓ Строка 2: Смотри смотри и не смейся

✓ Строка 3: На лугах в полях пасутся овцы

✓ Строка 4: Милая я тебя люблю И тут же вслед

Технические особенности
Итеративная генерация - каждая следующая строка учитывает предыдущие

Умные промты - разные шаблоны для разных типов строк

Обработка ошибок - устойчивость к сбоям генерации

Оптимизация памяти - эффективное использование ресурсов

Многократные попытки - до 25 попыток генерации для каждой строки

Система оценки качества - оценка строк по рифме, ударению и размеру

Принцип работы
Инициализация модели и токенизатора

Генерация текста с адаптивными параметрами

Очистка и валидация строки

Проверка рифмы и ударения

Вывод финального стихотворения с анализом

Возможные проблемы

Качество генерации зависит от исходной модели

Время генерации может составлять несколько минут

Лицензия
Проект использует открытые модели и библиотеки. Проверьте лицензии используемых компонентов.
